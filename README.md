# <center> 在 VS 使用 Git 协助开发

## 简介

1. 对于 VS 工具 ， 其功能模块中已经集成了完整的 git 工作流
2. 使用 git 工作流，完成对项目的拉取，推送等同步工作
3. 同时可以使用其，将项目推送至不同的项目托管平台：github，conding ，码云 gitee...

## 基本操作说明

1.  文件名左方图形标识说明：

    1. 锁型 ： 当前文件未做任何更改
    2. 打勾 : 当前文件已被更改，挂起状态

2.  双击 Git 更改视图的更改数下栏中的被更改文件，可以查找更改情况，显示更改前后的差异

3.  视图 -- Git 存储库中可以看到更改上传日志

4.  git 更改视图中查看更改数，更改情况，添加此次 commit -m 的注释内容，进行 commit

5.  针对代码 commit 后的内容，在 git 下拉菜单中可以进行【同步】—— 拉取后然后推送

## 需要重视的操作

### 前提

```
对于更新的代码，需要进行测试，我们上传的代码不会第一时间合并到main分支当中
而是选择或新建一些分支进行合并测试
如：

    dev开发分支
    test测试分支
其二，针对不同开发环境下的差异版本，会利用分支去维护各自的独特性功能

当我们进行了错误的提交之后，像要撤销提交，vs也给我们提供了办法：【重置】【还原】

对于【重置】【还原】操作，都可以直接在git存储库视图之间选中节点，然后右击进行【重置】【还原】操作

```

#### 重置 restore

【重置】只能对非第一个节点起作用

- 把此节点之后的提交全部删除
  - 保留更改：此节点之后的更改，作为更改保留，可以继续被提交
  - 删除更改：此节点之后的更改被直接删除。无法恢复，需谨慎操作

```
前者：
  有后悔的余地，重置节点之后的的更改会进行合并并保留，还可以继续提交
后者：
    无后悔的余地，重置节点之后的更改内容就完全没了
```

#### 还原 reset

【还原】表示把选中节点的更改的内容抹除，把剩余的东西作为一个新节点存在

```
其实就是把此节点的修改取消，剩余的部分作为一个新的修改进行提交，操作后会作为一个新的节点，旧更改的节点还保留在git存储库中

1.需要还原的节点前后都有节点，且修改位于一个文件中，选择还原会出现冲突，这时我们可以手动进行代码修改，把中间bug代码移除，后面节点的正常代码保留
2.需要还原的节点就是最后的一个节点，直接把这个bug节点还原就行，不会进行冲突，还原后的节点会作为一个新节点出现，旧节点还保留在git存储库当中


总之就是，有冲突自己改，没冲突顺利进行
```

#### 分支

##### 分支功能的背景

```
同种产品针对不同的环境会有不同的适配情况，尽管核心逻辑相同，但这种（环境差异，安卓/mac/widows or 硬件差异） 不同所带来的影响已经不能用接口，模块化来应对

```

##### 分支难点分析

针对背景的分析，我们就有了用分支作为解决差异问题，或者单纯新建不同文件夹，
让其作为不同的项目进行管理，但难点在于新增一个功能，就需要对所有的版本（分支）进行更新

##### 解决办法

- 选择一个 Git 分支作为主维护分支
- 在其余各个版本的分支上，维护其自身独特的功能
- 用合并 Merge 的办法，将主维护分支的新增功能添加进各独立分支中去

```
正常通用的功能在主维护分支上进行，特有的功能直接在其分支上提交推送就行，需要将通用的功能合并到特有分支上时，直接进行合并就行
```
